<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<textarea name="" id="text" cols="50" rows="10"></textarea>
	<br>
	<textarea name="" id="opts" cols="50" rows="20"></textarea>
	<br>
	<input type="text" id="url" value="http://localhost:8080">
	<br>
	<button onclick="setPreview()">Preview</button>
	<img src="" alt="" id="previmage" style="position: absolute;top: 0;right: 0;width: 50vw;">

	<script>
		const defaults = {
			width: 1500,
			height: Math.floor(1500/1.91),
			bg_col: "#43aeff",
			dot_col: "#0062ac",
			text_col: "#001626",
			dot_adj_a: 5,
			dot_adj_b: 11,
			title_scale: 10
		}
		document.getElementById("opts").value = JSON.stringify(defaults, null, "  ")
		function setPreview() {
			var src = btoa(JSON.stringify(JSON.parse(document.getElementById("opts").value)))
			document.getElementById("previmage").src = 
				document.getElementById("url").value
				+ "/" + encodeURIComponent(src) + "/og.png?cache="+Math.floor(Math.random()*1000)
		}
	</script>
</body>
</html>